!function(a,b){"use strict";var d,e,c=a._WEB_Cfg.jsLibPath+"jquery.layer/",f={getPath:function(){var a=document.scripts,b=a[a.length-1],d=b.src;if(!b.getAttribute("merge"))return c?c:d.substring(0,d.lastIndexOf("/")+1)}(),enter:function(a){13===a.keyCode&&a.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},g={v:"2.1",ie6:!!a.ActiveXObject&&!a.XMLHttpRequest,index:0,path:f.getPath,config:function(a,b){var c=0;return a=a||{},g.cache=f.config=d.extend(f.config,a),g.path=f.config.path||g.path,"string"==typeof a.extend&&(a.extend=[a.extend]),g.use("skin/layer.css",a.extend&&a.extend.length>0?function e(){var d=a.extend;g.use(d[d[c]?c:c-1],c<d.length?function(){return++c,e}():b)}():b),this},use:function(a,b,c){var f=d("head")[0],a=a.replace(/\s/g,""),h=/\.css$/.test(a),i=document.createElement(h?"link":"script"),j="layui_layer_"+a.replace(/\.|\//g,"");return g.path?(h&&(i.rel="stylesheet"),i[h?"href":"src"]=/^http:\/\//.test(a)?a:g.path+a,i.id=j,d("#"+j)[0]||f.appendChild(i),function k(){(h?1989===parseInt(d("#"+j).css("width")):g[c||j])?function(){b&&b();try{h||f.removeChild(i)}catch(a){}}():setTimeout(k,100)}(),this):void 0},ready:function(a,b){var c="function"==typeof a;return c&&(b=a),g.config(d.extend(f.config,function(){return c?{}:{path:a}}()),b),this},alert:function(a,b,c){var e="function"==typeof b;return e&&(c=b),g.open(d.extend({content:a,yes:c},e?{}:b))},confirm:function(a,b,c,e){var h="function"==typeof b;return h&&(e=c,c=b),g.open(d.extend({content:a,btn:f.btn,yes:c,cancel:e},h?{}:b))},msg:function(a,c,e){var h="function"==typeof c,j=f.config.skin,k=(j?j+" "+j+"-msg":"")||"layui-layer-msg",l=i.anim.length-1;return h&&(e=c),g.open(d.extend({content:a,time:3e3,shade:!1,skin:k,title:!1,closeBtn:!1,btn:!1,end:e},h&&!f.config.skin?{skin:k+" layui-layer-hui",shift:l}:function(){return c=c||{},(-1===c.icon||c.icon===b&&!f.config.skin)&&(c.skin=k+" "+(c.skin||"layui-layer-hui")),c}()))},load:function(a,b){return g.open(d.extend({type:3,icon:a||0,shade:.01},b))},tips:function(a,b,c){return g.open(d.extend({type:4,content:[a,b],closeBtn:!1,time:3e3,maxWidth:210},c))},stock:function(a,b,c){var d=g.tips(a,b,{tips:[2,"#FEFAEC"],skin:"stock-less",time:1e3});b.bind("mouseleave",function(){g.close(d)})},vtips:function(a,b){g.tips(a,b,{tips:[3,"#FEFAEC"],skin:"vtips",time:1e5});b.bind("mouseleave",function(){})}},h=function(a){var b=this;b.index=++g.index,b.config=d.extend({},b.config,f.config,a),b.creat()};h.pt=h.prototype;var i=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];i.anim=["layui-anim","layui-anim-01","layui-anim-02","layui-anim-03","layui-anim-04","layui-anim-05","layui-anim-06"],h.pt.config={type:0,shade:.3,fix:!0,move:i[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2},h.pt.vessel=function(a,b){var c=this,d=c.index,e=c.config,g=e.zIndex+d,h="object"==typeof e.title,j=e.maxmin&&(1===e.type||2===e.type),k=e.title?'<div class="layui-layer-title" style="'+(h?e.title[1]:"")+'">'+(h?e.title[0]:e.title)+"</div>":"";return e.zIndex=g,b([e.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+d+'" times="'+d+'" style="'+("z-index:"+(g-1)+"; background-color:"+(e.shade[1]||"#000")+"; opacity:"+(e.shade[0]||e.shade)+"; filter:alpha(opacity="+(100*e.shade[0]||100*e.shade)+");")+'"></div>':"",'<div class="'+i[0]+" "+(i.anim[e.shift]||"")+(" layui-layer-"+f.type[e.type])+(0!=e.type&&2!=e.type||e.shade?"":" layui-layer-border")+" "+(e.skin||"")+'" id="'+i[0]+d+'" type="'+f.type[e.type]+'" times="'+d+'" showtime="'+e.time+'" conType="'+(a?"object":"string")+'" style="z-index: '+g+"; width:"+e.area[0]+";height:"+e.area[1]+(e.fix?"":";position:absolute;")+'">'+(a&&2!=e.type?"":k)+'<div class="layui-layer-content'+(0==e.type&&-1!==e.icon?" layui-layer-padding":"")+(3==e.type?" layui-layer-loading"+e.icon:"")+'">'+(0==e.type&&-1!==e.icon?'<i class="layui-layer-ico layui-layer-ico'+e.icon+'"></i>':"")+(1==e.type&&a?"":e.content||"")+'</div><span class="layui-layer-setwin">'+function(){var a=j?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return e.closeBtn&&(a+='<a class="layui-layer-ico '+i[7]+" "+i[7]+(e.title?e.closeBtn:4==e.type?"1":"2")+'" href="javascript:;"></a>'),a}()+"</span>"+(e.btn?function(){var a="";"string"==typeof e.btn&&(e.btn=[e.btn]);for(var b=0,c=e.btn.length;c>b;b++){var d=e.target?e.target[b]:"";a+="_blank"==d?'<a class="'+i[6]+b+'" target="_blank" class="link" href="'+e.src[b]+'">'+e.btn[b]+"</a>":'<a class="'+i[6]+b+'">'+e.btn[b]+"</a>"}return'<div class="'+i[6]+'">'+a+"</div>"}():"")+"</div>"],k),c},h.pt.creat=function(){var a=this,b=a.config,c=a.index,j=b.content,k="object"==typeof j;switch("string"==typeof b.area&&(b.area="auto"===b.area?["",""]:[b.area,""]),b.type){case 0:b.btn="btn"in b?b.btn:f.btn[0],g.closeAll("dialog");break;case 2:var j=b.content=k?b.content:[b.content||"http://layer.layui.com","auto"];b.content='<iframe scrolling="'+(b.content[1]||"auto")+'" allowtransparency="true" id="'+i[4]+c+'" name="'+i[4]+c+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+b.content[0]+'"></iframe>';break;case 3:b.title=!1,b.closeBtn=!1,-1===b.icon&&0===b.icon,g.closeAll("loading");break;case 4:k||(b.content=[b.content,"body"]),b.follow=b.content[1],b.content=b.content[0]+'<i class="layui-layer-TipsG"></i><i class="layui-layer-TipsS"></i>',b.title=!1,b.shade=!1,b.fix=!1,b.tips="object"==typeof b.tips?b.tips:[b.tips,!0],b.tipsMore||g.closeAll("tips")}a.vessel(k,function(e,f){d("body").append(e[0]),k?function(){2==b.type||4==b.type?function(){d("body").append(e[1])}():function(){j.parents("."+i[0])[0]||(j.show().addClass("layui-layer-wrap").wrap(e[1]),d("#"+i[0]+c).find("."+i[5]).before(f))}()}():d("body").append(e[1]),a.layero=d("#"+i[0]+c),b.scrollbar||i.html.css("overflow","hidden").attr("layer-full",c)}).auto(c),2==b.type&&g.ie6&&a.layero.find("iframe").attr("src",j[0]),d(document).off("keydown",f.enter).on("keydown",f.enter),a.layero.on("keydown",function(a){d(document).off("keydown",f.enter)}),4==b.type?a.tips():a.offset(),b.fix&&e.on("resize",function(){a.offset(),(/^\d+%$/.test(b.area[0])||/^\d+%$/.test(b.area[1]))&&a.auto(c),4==b.type&&a.tips()}),b.time<=0||setTimeout(function(){g.close(a.index)},b.time),a.move().callback()},h.pt.auto=function(a){function k(a){a=f.find(a),a.height(g[1]-h-j-2*(0|parseFloat(a.css("padding"))))}var b=this,c=b.config,f=d("#"+i[0]+a);""===c.area[0]&&c.maxWidth>0&&(/MSIE 7/.test(navigator.userAgent)&&c.btn&&f.width(f.innerWidth()),f.outerWidth()>c.maxWidth&&f.width(c.maxWidth));var g=[f.innerWidth(),f.innerHeight()],h=f.find(i[1]).outerHeight()||0,j=f.find("."+i[6]).outerHeight()||0;switch(c.type){case 2:k("iframe");break;default:""===c.area[1]?c.fix&&g[1]>=e.height()&&(g[1]=e.height(),k("."+i[5])):k("."+i[5])}return b},h.pt.offset=function(){var a=this,b=a.config,c=a.layero,d=[c.outerWidth(),c.outerHeight()],f="object"==typeof b.offset;a.offsetTop=(e.height()-d[1])/2,a.offsetLeft=(e.width()-d[0])/2,f?(a.offsetTop=b.offset[0],a.offsetLeft=b.offset[1]||a.offsetLeft):"auto"!==b.offset&&(a.offsetTop=b.offset,"rb"===b.offset&&(a.offsetTop=e.height()-d[1],a.offsetLeft=e.width()-d[0])),b.fix||(a.offsetTop=/%$/.test(a.offsetTop)?e.height()*parseFloat(a.offsetTop)/100:parseFloat(a.offsetTop),a.offsetLeft=/%$/.test(a.offsetLeft)?e.width()*parseFloat(a.offsetLeft)/100:parseFloat(a.offsetLeft),a.offsetTop+=e.scrollTop(),a.offsetLeft+=e.scrollLeft()),c.css({top:a.offsetTop,left:a.offsetLeft})},h.pt.tips=function(){var a=this,b=a.config,c=a.layero,f=[c.outerWidth(),c.outerHeight()],g=d(b.follow);g[0]||(g=d("body"));var h={width:g.outerWidth(),height:g.outerHeight(),top:g.offset().top,left:g.offset().left},j=c.find(".layui-layer-TipsG"),k=b.tips[0];b.tips[1]||j.remove(),h.autoLeft=function(){h.left+f[0]-e.width()>0?(h.tipLeft=h.left+h.width-f[0],j.css({right:12,left:"auto"})):h.tipLeft=h.left},h.where=[function(){h.autoLeft(),h.tipTop=h.top-f[1]-10,j.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",b.tips[1])},function(){h.tipLeft=h.left+h.width+10,h.tipTop=h.top,j.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",b.tips[1])},function(){h.autoLeft(),h.tipTop=h.top+h.height+10,j.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",b.tips[1])},function(){h.tipLeft=h.left-f[0]-10,h.tipTop=h.top,j.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",b.tips[1])}],h.where[k-1](),1===k?h.top-(e.scrollTop()+f[1]+16)<0&&h.where[2]():2===k?e.width()-(h.left+h.width+f[0]+16)>0||h.where[3]():3===k?h.top-e.scrollTop()+h.height+f[1]+16-e.height()>0&&h.where[0]():4===k&&f[0]+16-h.left>0&&h.where[1](),c.find("."+i[5]).css({"background-color":b.tips[1],"padding-right":b.closeBtn?"30px":""}),c.css({left:h.tipLeft,top:h.tipTop})},h.pt.move=function(){var a=this,b=a.config,c={setY:0,moveLayer:function(){var a=c.layero,b=parseInt(a.css("margin-left")),d=parseInt(c.move.css("left"));0===b||(d-=b),"fixed"!==a.css("position")&&(d-=a.parent().offset().left,c.setY=0),a.css({left:d,top:parseInt(c.move.css("top"))-c.setY})}},f=a.layero.find(b.move);return b.move&&f.attr("move","ok"),f.css({cursor:b.move?"move":"auto"}),d(b.move).on("mousedown",function(a){if(a.preventDefault(),"ok"===d(this).attr("move")){c.ismove=!0,c.layero=d(this).parents("."+i[0]);var f=c.layero.offset().left,g=c.layero.offset().top,h=c.layero.outerWidth()-6,j=c.layero.outerHeight()-6;d("#layui-layer-moves")[0]||d("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+f+"px; top:"+g+"px; width:"+h+"px; height:"+j+'px; z-index:2147483584"></div>'),c.move=d("#layui-layer-moves"),b.moveType&&c.move.css({visibility:"hidden"}),c.moveX=a.pageX-c.move.position().left,c.moveY=a.pageY-c.move.position().top,"fixed"!==c.layero.css("position")||(c.setY=e.scrollTop())}}),d(document).mousemove(function(a){if(c.ismove){var d=a.pageX-c.moveX,f=a.pageY-c.moveY;if(a.preventDefault(),!b.moveOut){c.setY=e.scrollTop();var g=e.width()-c.move.outerWidth(),h=c.setY;0>d&&(d=0),d>g&&(d=g),h>f&&(f=h),f>e.height()-c.move.outerHeight()+c.setY&&(f=e.height()-c.move.outerHeight()+c.setY)}c.move.css({left:d,top:f}),b.moveType&&c.moveLayer(),d=f=g=h=null}}).mouseup(function(){try{c.ismove&&(c.moveLayer(),c.move.remove(),b.moveEnd&&b.moveEnd()),c.ismove=!1}catch(a){c.ismove=!1}}),a},h.pt.callback=function(){function e(){var b=c.cancel&&c.cancel(a.index);b===!1||g.close(a.index)}var a=this,b=a.layero,c=a.config;a.openLayer(),c.success&&(2==c.type?b.find("iframe").on("load",function(){c.success(b,a.index)}):c.success(b,a.index)),g.ie6&&a.IE6(b),b.find("."+i[6]).children("a:not(.link)").on("click",function(){var f=d(this).index();c["btn"+(f+1)]&&c["btn"+(f+1)](a.index,b),0===f?c.yes?c.yes(a.index,b):g.close(a.index):1===f?e():c["btn"+(f+1)]||g.close(a.index)}),b.find("."+i[7]).on("click",e),c.shadeClose&&d("#layui-layer-shade"+a.index).on("click",function(){g.close(a.index)}),b.find(".layui-layer-min").on("click",function(){g.min(a.index,c),c.min&&c.min(b)}),b.find(".layui-layer-max").on("click",function(){d(this).hasClass("layui-layer-maxmin")?(g.restore(a.index),c.restore&&c.restore(b)):(g.full(a.index,c),c.full&&c.full(b))}),c.end&&(f.end[a.index]=c.end)},f.reselect=function(){d.each(d("select"),function(a,b){var c=d(this);c.parents("."+i[0])[0]||1==c.attr("layer")&&d("."+i[0]).length<1&&c.removeAttr("layer").show(),c=null})},h.pt.IE6=function(a){function f(){a.css({top:c+(b.config.fix?e.scrollTop():0)})}var b=this,c=a.offset().top;f(),e.scroll(f),d("select").each(function(a,b){var c=d(this);c.parents("."+i[0])[0]||"none"===c.css("display")||c.attr({layer:"1"}).hide(),c=null})},h.pt.openLayer=function(){var a=this;g.zIndex=a.config.zIndex,g.setTop=function(a){var b=function(){g.zIndex++,a.css("z-index",g.zIndex+1)};return g.zIndex=parseInt(a[0].style.zIndex),a.on("mousedown",b),g.zIndex}},f.record=function(a){var b=[a.outerWidth(),a.outerHeight(),a.position().top,a.position().left+parseFloat(a.css("margin-left"))];a.find(".layui-layer-max").addClass("layui-layer-maxmin"),a.attr({area:b})},f.rescollbar=function(a){i.html.attr("layer-full")==a&&(i.html[0].style.removeProperty?i.html[0].style.removeProperty("overflow"):i.html[0].style.removeAttribute("overflow"),i.html.removeAttr("layer-full"))},a.layer=g,g.getChildFrame=function(a,b){return b=b||d("."+i[4]).attr("times"),d("#"+i[0]+b).find("iframe").contents().find(a)},g.getFrameIndex=function(a){return d("#"+a).parents("."+i[4]).attr("times")},g.iframeAuto=function(a){if(a){var b=g.getChildFrame("html",a).outerHeight(),c=d("#"+i[0]+a),e=c.find(i[1]).outerHeight()||0,f=c.find("."+i[6]).outerHeight()||0;c.css({height:b+e+f}),c.find("iframe").css({height:b})}},g.iframeSrc=function(a,b){d("#"+i[0]+a).find("iframe").attr("src",b)},g.style=function(a,b){var c=d("#"+i[0]+a),e=c.attr("type"),g=c.find(i[1]).outerHeight()||0,h=c.find("."+i[6]).outerHeight()||0;(e===f.type[1]||e===f.type[2])&&(c.css(b),e===f.type[2]&&c.find("iframe").css({height:parseFloat(b.height)-g-h}))},g.min=function(a,b){var c=d("#"+i[0]+a),e=c.find(i[1]).outerHeight()||0;f.record(c),g.style(a,{width:180,height:e,overflow:"hidden"}),c.find(".layui-layer-min").hide(),"page"===c.attr("type")&&c.find(i[4]).hide(),f.rescollbar(a)},g.restore=function(a){var b=d("#"+i[0]+a),c=b.attr("area").split(",");b.attr("type");g.style(a,{width:parseFloat(c[0]),height:parseFloat(c[1]),top:parseFloat(c[2]),left:parseFloat(c[3]),overflow:"visible"}),b.find(".layui-layer-max").removeClass("layui-layer-maxmin"),b.find(".layui-layer-min").show(),"page"===b.attr("type")&&b.find(i[4]).show(),f.rescollbar(a)},g.full=function(a){var c,b=d("#"+i[0]+a);f.record(b),i.html.attr("layer-full")||i.html.css("overflow","hidden").attr("layer-full",a),clearTimeout(c),c=setTimeout(function(){var c="fixed"===b.css("position");g.style(a,{top:c?0:e.scrollTop(),left:c?0:e.scrollLeft(),width:e.width(),height:e.height()}),b.find(".layui-layer-min").hide()},100)},g.title=function(a,b){var c=d("#"+i[0]+(b||g.index)).find(i[1]);c.html(a)},g.close=function(a){var b=d("#"+i[0]+a),c=b.attr("type");if(b[0]){if(c===f.type[1]&&"object"===b.attr("conType")){b.children(":not(."+i[5]+")").remove();for(var e=0;2>e;e++)b.find(".layui-layer-wrap").unwrap().hide()}else{if(c===f.type[2])try{var h=d("#"+i[4]+a)[0];h.contentWindow.document.write(""),h.contentWindow.close(),b.find("."+i[5])[0].removeChild(h)}catch(j){}b[0].innerHTML="",b.remove()}d("#layui-layer-moves, #layui-layer-shade"+a).remove(),g.ie6&&f.reselect(),f.rescollbar(a),d(document).off("keydown",f.enter),"function"==typeof f.end[a]&&f.end[a](),delete f.end[a]}},g.closeAll=function(a){d.each(d("."+i[0]),function(){var b=d(this),c=a?b.attr("type")===a:1;c&&g.close(b.attr("times")),c=null})},f.run=function(){d=jQuery,e=d(a),i.html=d("html"),g.open=function(a){var b=new h(a);return b.index}},"function"==typeof define?define(function(){return f.run(),g.use("skin/layer.css"),g}):function(){f.run(),g.use("skin/layer.css")}()}(window);
