{"version":3,"sources":["./src/js/new.js","./src/js/common/header.js","./src/js/common/URLParser.js","./src/js/common/search.js","./src/js/lib/datepick/jquery.datepicker.js","./src/js/lib/jquery.scrolltofixed/jquery.scrolltofixed.min.js"],"names":[],"mappings":";;;;mHAAA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC;AACtC,cAAa;;AAEb,+CAA8C,uBAAuB;AACrE,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;;AAEA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,yBAAwB,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAiE;AACjE,kEAAiE;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;;;;AC9OD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,sCAAqC,sBAAsB;AAC3D,sEAAqE,sBAAsB;AAC3F,8EAA6E,sBAAsB;AACnG;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,oCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAa;;AAEb;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA,iEAAgE;AAChE;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT,sCAAqC,sBAAsB;AAC3D,MAAK;AACL;;;;;;;;;;;ACtWA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,gBAAe,OAAO;AACtB;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,0CAAyC,OAAO;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClHD,wC,kDAAA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C,oBAAmB,cAAc;AACjC;AACA;AACA,sEAAqE;AACrE,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;8DAAC;;;;;;;;;;;;;ACjND,yDAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAwE;AACxE,mEAAkE;AAClE,iEAAgE;AAChE,qEAAoE;AACpE,mEAAkE;AAClE,uEAAsE;AACtE,uEAAsE;AACtE,iFAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAqE,OAAO;AAC5E,6GAA4G,OAAO;AACnH,wFAAuF;AACvF,0HAAyH,OAAO;AAChI,sFAAqF,OAAO;AAC5F,kFAAiF,OAAO;AACxF,gFAA+E,OAAO;AACtF,0CAAyC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,qGAAoG,cAAc,EAAE;AACpH;AACA;AACA;AACA;AACA,qFAAoF,cAAc,EAAE;AACpG;AACA,kBAAiB;;AAEjB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,kBAAiB;;AAEjB;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAsF,YAAY;AAClG;AACA,6DAA4D,WAAW,WAAW,aAAa,MAAM,OAAO,aAAa;AACzH;AACA,uGAAsG;AACtG;AACA,sJAAqJ,6CAA6C,yLAAyL,6CAA6C;AACxa;AACA;AACA;AACA;AACA;AACA,+CAA8C,OAAO;AACrD;AACA,8BAA6B,OAAO,EAAE,OAAO,KAAK;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAoF,4CAA4C;AAChI;AACA;AACA,4FAA2F,oHAAoH;AAC/M;AACA;AACA,4FAA2F,oHAAoH,yFAAyF,mEAAmE;AAC3W;AACA;AACA,4FAA2F,oHAAoH,yFAAyF,mEAAmE;AAC3W;AACA;AACA,4FAA2F,oHAAoH,yFAAyF,mEAAmE;AAC3W;;AAEA;AACA,4FAA2F,qHAAqH,0FAA0F,mEAAmE;AAC7W;;AAEA;AACA,4FAA2F,qHAAqH,0FAA0F,mEAAmE;AAC7W;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,YAAY,GAAG,sCAAsC,yBAAyB,EAAE,EAAE;AACxH;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,YAAY,GAAG,sCAAsC,yBAAyB,EAAE,EAAE;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D;AAC1D,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,QAAQ;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD,SAAS,GAAG,gBAAgB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6LAA4L;AAC5L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,+BAA8B;AAC9B;AACA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;;;AAIA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT;AACA,EAAC;;;;;;;;;ACvlBD,cAAa,8BAA8B,qCAAqC,8BAA8B,WAAW,WAAW,OAAO,8BAA8B,YAAY,YAAY,MAAM,MAAM,MAAM,MAAM,MAAM,QAAQ,QAAQ,SAAS,SAAS,WAAW,MAAM,MAAM,aAAa,sCAAsC,IAAI,mCAAmC,KAAK,iBAAiB,kBAAkB,sBAAsB,uCAAuC,UAAU,IAAI,oBAAoB,OAAO,yBAAyB,oCAAoC,IAAI,kCAAkC,aAAa,sBAAsB,OAAO,SAAS,2BAA2B,kBAAkB,SAAS,aAAa,mBAAmB,aAAa,sBAAsB,aAAa,mBAAmB,aAAa,SAAS,mCAAmC,OAAO,8EAA8E,EAAE,YAAY,iJAAiJ,4BAA4B,gCAAgC,kBAAkB,oCAAoC,wBAAwB,gCAAgC,WAAW,aAAa,UAAU,QAAQ,4BAA4B,KAAK,MAAM,YAAY,gEAAgE,4BAA4B,gCAAgC,kBAAkB,aAAa,aAAa,SAAS,KAAK,wBAAwB,OAAO,+DAA+D,EAAE,uCAAuC,wBAAwB,mCAAmC,QAAQ,cAAc,SAAS,kBAAkB,KAAK,aAAa,0BAA0B,OAAO,SAAS,2BAA2B,kBAAkB,SAAS,aAAa,2CAA2C,OAAO,QAAQ,UAAU,OAAO,IAAI,KAAK,QAAQ,iBAAiB,mBAAmB,6BAA6B,4BAA4B,UAAU,6DAA6D,aAAa,IAAI,sCAAsC,IAAI,oCAAoC,KAAK,6DAA6D,aAAa,IAAI,sCAAsC,IAAI,oCAAoC,KAAK,yBAAyB,kBAAkB,mBAAmB,IAAI,uCAAuC,IAAI,oCAAoC,KAAK,aAAa,aAAa,IAAI,oCAAoC,IAAI,KAAK,iCAAiC,KAAK,KAAK,aAAa,IAAI,sCAAsC,IAAI,sCAAsC,KAAK,QAAQ,4DAA4D,QAAQ,IAAI,sCAAsC,mBAAmB,IAAI,KAAK,IAAI,oCAAoC,KAAK,SAAS,IAAI,oCAAoC,IAAI,KAAK,kCAAkC,KAAK,SAAS,aAAa,sBAAsB,SAAS,wBAAwB,aAAa,wBAAwB,kBAAkB,wCAAwC,KAAK,eAAe,qCAAqC,KAAK,yCAAyC,kBAAkB,qBAAqB,QAAQ,MAAM,kBAAkB,+DAA+D,iBAAiB,oBAAoB,4DAA4D,oCAAoC,6BAA6B,YAAY,gBAAgB,gCAAgC,UAAU,EAAE,iBAAiB,mCAAmC,wBAAwB,gBAAgB,oCAAoC,iBAAiB,gBAAgB,iBAAiB,cAAc,SAAS,aAAa,kBAAkB,kBAAkB,qBAAqB,mBAAmB,qBAAqB,kBAAkB,qBAAqB,mCAAmC,mBAAmB,sCAAsC,eAAe,oBAAoB,oBAAoB,iBAAiB,eAAe,QAAQ,eAAe,yCAAyC,yCAAyC,4BAA4B,4CAA4C,uBAAuB,oDAAoD,wBAAwB,sDAAsD,yBAAyB,wDAAwD,0BAA0B,0DAA0D,0BAA0B,0DAA0D,2BAA2B,4DAA4D,oBAAoB,8CAA8C,sBAAsB,kDAAkD,0BAA0B,kCAAkC,yCAAyC,qBAAqB,EAAE,yCAAyC,sCAAsC,IAAI,mCAAmC,IAAI,EAAE,0CAA0C,KAAK,sCAAsC,IAAI,mCAAmC,2CAA2C,2CAA2C,2BAA2B,WAAW,kCAAkC,EAAE,KAAK,UAAU,gCAAgC,iFAAiF,+BAA+B,4BAA4B,8BAA8B,GAAG,U","sourcesContent":["define(['common/header', 'common/api', 'common/web', 'common/URLParser', 'pagination', 'lazyload', 'datepick', 'scrolltofixed', 'common/search'], function(header, api, common, URLParser) {\r\n    var p = {\r\n        timer: {},\r\n        direction: 1,\r\n        timeout: 3000\r\n    }\r\n    var main = {\r\n        date: DATE,\r\n        bid: BID,\r\n        pid: PID,\r\n        tcid: TCID,\r\n        init: function() {\r\n            var that = this;\r\n            that.addEvent();\r\n\r\n            common.fixLazyload();\r\n\r\n            header.clearNewamout() //cgx\r\n\r\n            that.renderRecommend();\r\n            $(\"#Pagination\").pagination(RECORDCOUNT,  {\r\n                num_edge_entries: 1, //边缘页数\r\n                callback: that.pageselectCallback,\r\n                items_per_page: PAGESIZE, //每页显示1项\r\n                prev_text: \"前一页\",\r\n                next_text: \"后一页\",\r\n                current_page: CURRENTPAGE - 1 || 0,\r\n                link_to: \"javascript:;\"\r\n            });\r\n\r\n            $.cookie('ORDERTYPE', ORDERTYPE, {expires: 365, path:'/'});\r\n        },\r\n        addEvent: function() {\r\n            var that = this;\r\n            $(document).on('click', '.ctrl .upload', function(){\r\n                var $this = $(this);\r\n                common.upFileBox( $this.attr('data-id'), $this.attr('data-vid'));\r\n            });\r\n            $(document).on('click', '.ctrl .addFav', function(){\r\n                var $this = $(this);\r\n                common.onCollectProduct($this.data('id'));\r\n            });\r\n            $(document).on('click', '.ctrl .collect', function(){\r\n                var id = $(this).attr('data-id');\r\n                common.onCollectProduct(id);\r\n            });\r\n\r\n            var _currentDay = new Date(DATE);\r\n            var _startDate = new Date('2015-12-04');\r\n            var _today = new Date();\r\n            $(\"#datetime\").datepicker({\r\n                inputDate: DATE,\r\n                Month: _currentDay.getMonth() + 1,\r\n                Year: _currentDay.getFullYear(),\r\n                Day: _currentDay.getDate(),\r\n                picker:'.picker',\r\n                onReturn:function(data){\r\n                    var url = _WEB_Cfg.domain + \"/new/\" +data,\r\n                        _params = that.getUrlParams(),\r\n                        _paramsArray = []\r\n                    if((_params.currentPage !=  null && _params.currentPage != '') || _params.currentPage){\r\n                        delete _params.currentPage;\r\n                    }\r\n                    for(p in _params){\r\n                        if(_params[p] != '')\r\n                            _paramsArray.push(p+'='+_params[p])\r\n                    }\r\n                    if(_paramsArray.length>0){\r\n                        _paramsArray.unshift('?')\r\n                    }\r\n                    location.href = url + _paramsArray.join('&')\r\n                },\r\n                applyrule: function(){\r\n                    return  {\r\n                        startdate: _startDate,\r\n                        enddate: _today\r\n                    }\r\n                }\r\n            });\r\n\r\n            $(\"ul.checks li\").on('click', function(){\r\n                var $this = $(this)\r\n                if($this.hasClass('selected')){\r\n                    $this.removeClass('selected')\r\n                }else{\r\n                     $this.addClass('selected')\r\n                }\r\n            })\r\n\r\n            $(\".btn-service\").on('click', function(){\r\n                var _params = that.getUrlParams(),\r\n                    _paramsArray = []\r\n                $('.o-item.service li').each(function(){\r\n                    var $item = $(this),\r\n                        serArray = {},\r\n                        serName = $item.data('name')\r\n                    if($item.hasClass('selected')){\r\n                        _params[serName] = '1'\r\n                    }else{\r\n                        _params[serName] = ''\r\n                    }\r\n                })\r\n                if((_params.currentPage !=  null && _params.currentPage != '') || _params.currentPage){\r\n                    delete _params.currentPage;\r\n                }\r\n                for(p in _params){\r\n                    if(_params[p] != '')\r\n                        _paramsArray.push(p+'='+_params[p])\r\n                }\r\n                location.search = _paramsArray.join('&')\r\n            })\r\n\r\n            $(\".btn-style\").on('click', function(){\r\n                var _params = that.getUrlParams(),\r\n                    _paramsArray = [],\r\n                    _styles = []\r\n                $('.o-item.styles li.selected span').each(function(){\r\n                    _styles.push($.trim($(this).text()))\r\n                })\r\n                _params.style = _styles.join(',')\r\n                if((_params.currentPage !=  null && _params.currentPage != '') || _params.currentPage){\r\n                    delete _params.currentPage;\r\n                }\r\n                for(p in _params){\r\n                    if(_params[p] != '')\r\n                        _paramsArray.push(p+'='+_params[p])\r\n                }\r\n                location.search = _paramsArray.join('&')\r\n            })\r\n\r\n            $(\".cancel-service\").bind('click', function(){\r\n                that.clearParams(['is_tx','is_sp','cloud_update','is_df'])\r\n            })\r\n            $(\".cancel-style\").bind('click',function(){\r\n                that.clearParams(['style'])\r\n            })\r\n\r\n            $(\".art-no\").bind('dblclick', function(){\r\n                var _text=$(this).text();\r\n            })\r\n\r\n            $('#fix-box').scrollToFixed();\r\n\r\n            $('.conditions li.c-item').on('mouseenter',function(){\r\n                $(this).addClass('hover')\r\n            }).on('mouseleave', function(){\r\n                $(this).removeClass('hover')\r\n            })\r\n        },\r\n        clearParams: function(_keys){\r\n            var that = this,\r\n                _params = that.getUrlParams(),\r\n                _paramsArray = []\r\n            for(var i=0;i<_keys.length;i++){\r\n                _params[_keys[i]] = ''\r\n            }\r\n            if((_params.currentPage !=  null && _params.currentPage != '') || _params.currentPage){\r\n                delete _params.currentPage;\r\n            }\r\n            for(p in _params){\r\n                if(_params[p] != '')\r\n                    _paramsArray.push(p+'='+_params[p])\r\n            }\r\n            location.search = _paramsArray.join('&')\r\n        },\r\n        renderRecommend: function(){\r\n            var $selector = $('.hot_goods .page-box')\r\n            $selector.pagination($('.hot_goods_list .item').length, {\r\n                current_page: 0,\r\n                num_edge_entries: 0,\r\n                items_per_page: 5,\r\n                num_display_entries: 0,\r\n                simple: true,\r\n                prev_text: '<span class=\"mp-prev vvicon\">&#xe611;</span>',\r\n                next_text: '<span class=\"mp-next vvicon\">&#xe60f;</span>',\r\n                callback: function (currentPage) {\r\n                    var $content = $('.hot_goods_list')\r\n                    $content.find('.data-split.showed').removeClass('showed').fadeOut(500)\r\n                    $content.find('.data-split').eq(currentPage).addClass('showed').fadeIn(500)\r\n                    cuvvic.sendShow($content)\r\n\r\n                    return false;\r\n                }\r\n            })\r\n\r\n            // 自动轮播\r\n            var self = this\r\n            p.timer = self.selectorSlide($selector, p.direction, p.timeout)\r\n\r\n            $('.hot_goods').hover(function(){\r\n                clearInterval(p.timer)\r\n            },function(){\r\n                p.timer = self.selectorSlide($selector, p.direction, p.timeout)\r\n            })\r\n        },\r\n        selectorSlide: function(selector, direction, times) {\r\n            return setInterval(function(){\r\n                var $next = $(selector).find('a.next'),\r\n                    $prev = $(selector).find('a.prev')\r\n                if(direction==0){\r\n                    if($prev.length){\r\n                        $prev.click()\r\n                    }else{\r\n                        $next.click()\r\n                        direction = 1\r\n                    }\r\n                }else{\r\n                    if($next.length){\r\n                        $next.click()\r\n                    }else{\r\n                        $prev.click()\r\n                        direction = 0\r\n                    }\r\n                }\r\n            }, times || 4000);\r\n        },\r\n        pageselectCallback: function(page_index){\r\n            var _page = parseInt(page_index) + 1,\r\n                _params = main.getUrlParams(),\r\n                _paramsArray = []\r\n            if(_page == CURRENTPAGE)\r\n                return\r\n            _params.currentPage = _page\r\n            for(p in _params){\r\n                if(_params[p] != '')\r\n                    _paramsArray.push(p+'='+_params[p])\r\n            }\r\n            location.search = _paramsArray.join('&')\r\n            return\r\n        },\r\n        getUrlParams: function(){\r\n            var _url = new URLParser(location.href),\r\n                _p = _url.getQuery(),\r\n                _params = _url._paramValues;\r\n            return _params\r\n        }\r\n    }\r\n\r\n    main.init();\r\n});\r\n","\r\nvar api = require('common/api');\r\nvar common = require('common/web');\r\nvar cookie = require('cookie');\r\nrequire('common/search');\r\nvar main = {\r\n    init: function () {\r\n\r\n        bindChangeSearcher();\r\n\r\n        bindLogout();\r\n\r\n        scrollFixed();\r\n\r\n        topBanner();\r\n\r\n        if(window.page!='item' && window.page!='shop'){\r\n            setTimeout(getNewamount, 200);\r\n        }\r\n\r\n        bindEvents();\r\n        catSlide();\r\n\r\n\r\n        //os x 导航等字体加粗\r\n        var agent = window.navigator.userAgent.toLowerCase();\r\n        if (agent.indexOf('mac os x') > -1) {\r\n            $('.nav_item_list').css({'font-weight': 'bold'});\r\n            $('.floor_list .floor_item .item_shop .info .name').css({'font-weight': 'bold'});\r\n            $('.hot_shops .hot_shops_list .item.item_shop .info .desc').css({'font-weight': 'bold'});\r\n        }\r\n    },\r\n    logout: bindLogout,\r\n    clearNewamout: clearNewamout,\r\n    loginUinfo: loginUinfo(),\r\n    refreshLoginUinfo: loginUinfo\r\n};\r\n\r\nmain.init();\r\n\r\nmodule.exports = main;\r\n\r\nfunction loginUinfo() {\r\n    var _userKey = $.cookie('user_key') || '';\r\n    return api.service.loginUinfo({user_key: _userKey}, function (dt) {\r\n        if (dt.code == 200) {\r\n            var _data = dt.data,\r\n                _userId = _data.id,\r\n                _username = _data.username,\r\n                _verify = _data.is_verify_user,\r\n                _carts_amount = _data.carts_amount,\r\n                _news_amount = _data.amount,\r\n                _order_amount = _data.orders_count,\r\n                $topbar = $(\".top_bar\");\r\n            // 是否登录\r\n            if(_userId){\r\n                $('#username', $topbar).text(_username);\r\n                $(\".islog\", $topbar).show();\r\n                $(\".unlog\", $topbar).remove();\r\n\r\n                if(_news_amount > 0){\r\n                    $('.messageUnRead').text(_news_amount).show();\r\n                }\r\n                _order_amount = _order_amount > 99 ? 99 : _order_amount;\r\n                if(_order_amount > 0){\r\n                    $('.orderUnRead').text(_order_amount).show();\r\n                }\r\n\r\n                if(window.page=='refund'){\r\n                    $('.o-address input#mobile').val(_data.mobile);\r\n                }\r\n            }else{\r\n                $(\".islog\", $topbar).remove();\r\n                $(\".unlog\", $topbar).show();\r\n                $(\".j-btn-addrent\").remove();\r\n            }\r\n\r\n            _carts_amount = _carts_amount > 0 ? _carts_amount : '';\r\n            _carts_amount = _carts_amount <= 99 ? _carts_amount : '99+';\r\n            $('.j-cart-amount').text(_carts_amount);\r\n            $(\".header3 .btn_cart .num\").text(_carts_amount);\r\n            if(_carts_amount){\r\n                $('.j-cart-amount').show();\r\n            }\r\n            if(!_carts_amount){\r\n                $('.j-cart-amount').hide();\r\n            }\r\n            // if(!_data.new_amount){\r\n            //     getNewamount(_data.new_amount);\r\n            // }\r\n        }\r\n    });\r\n}\r\n\r\nfunction catSlide() {\r\n\r\n    var nav_drop = $('.nav_drop');\r\n    var $nav_drop_menu = $('.nav_drop_menu', nav_drop);\r\n    var $menu_item = $('.menu_item', nav_drop);\r\n    var $nav_expend = $('.nav_expend', nav_drop);\r\n    var $nav_item = $('.nav_item', nav_drop);\r\n    var $nav_expend_txt = $('.nav_expend_txt', nav_drop);\r\n    var $nav_expend_ad = $('.nav_expend_ad', nav_drop);\r\n\r\n    var can_animate = true;\r\n    var timer;\r\n\r\n    $menu_item.hover(function () {\r\n        var _this = $(this);\r\n\r\n        $nav_expend.show();\r\n        $nav_item.hide().css('width', 0);\r\n\r\n        $($nav_expend_txt, $($nav_item.get(_this.index()))).css('width', 580).show();\r\n        $($nav_expend_ad, $($nav_item.get(_this.index()))).css('width', 220).show();\r\n\r\n        $($nav_item.get(_this.index())).show().css('width', 800).addClass('selected');\r\n\r\n        $menu_item.removeClass('selected');\r\n        _this.addClass('selected');\r\n\r\n        if (can_animate) {\r\n            can_animate = !can_animate;\r\n\r\n            $(\".nav_expend_txt\", $nav_item.get(_this.index())).css('width', 0).animate({\r\n                width: 580\r\n            }, 500);\r\n\r\n            $(\".nav_expend_ad\", $nav_item.get(_this.index())).css('width', 0);\r\n\r\n            timer = setTimeout(function () {\r\n                $(\".nav_expend_ad\", $nav_item.get(_this.index())).animate({\r\n                    width: 220\r\n                }, 400);\r\n            }, 350);\r\n        }\r\n        var $a = $nav_item.find('.nav_expend_ad a');\r\n        if ($a.hasClass('ishide')) {\r\n            cuvvic.sendShow(\"\", $a);\r\n        }\r\n    });\r\n\r\n    $nav_drop_menu.mouseleave(function (event) {\r\n        var _this = $(this);\r\n\r\n        var to_element = event.toElement || event.relatedTarget; //firefox 没有toElement\r\n        var $to_element = $(to_element);\r\n\r\n        if (!$to_element.hasClass('inner')) {\r\n\r\n            $nav_expend.hide();\r\n            $nav_item.hide().css('width', 0).removeClass('selected');\r\n            $nav_expend_txt.css('width', 0).hide();\r\n            $nav_expend_ad.css('width', 0).hide();\r\n\r\n            $menu_item.removeClass('selected');\r\n\r\n            can_animate = true;\r\n\r\n        }\r\n    });\r\n\r\n    $nav_expend.mouseleave(function (event) {\r\n        $nav_expend.hide();\r\n        $nav_item.hide().css('width', 0).removeClass('selected');\r\n        $nav_expend_txt.css('width', 0).hide();\r\n        $nav_expend_ad.css('width', 0).hide();\r\n\r\n        $menu_item.removeClass('selected');\r\n\r\n    });\r\n\r\n}\r\n\r\nfunction bindEvents() {\r\n\r\n    $('.j_clear_newamount').on('click', function () {\r\n        clearNewamout();\r\n    });\r\n\r\n    /*搜全站*/\r\n    $('.btn-search-global').on('click', function () {\r\n        var q = $('input#q').val();\r\n        location.href = '/search.html?q=' + q;\r\n    });\r\n\r\n    /*\r\n    * 搜索框焦点变色\r\n    * */\r\n    var query_box =  $('.search_query_wrap');\r\n\r\n    if(query_box.length > 0){\r\n        $('.search_query_wrap input.search_query').on('focus', function () {\r\n            query_box.css('border-color','#fb658a');\r\n        }).on('blur', function () {\r\n            query_box.css('border-color','#e5e5e5');\r\n        });\r\n    }\r\n\r\n}\r\n\r\nfunction scrollFixed() {\r\n\r\n    var header = $('.header_fixed_able');\r\n    var initFixed = function () {\r\n\r\n        if (!header.length) {\r\n            return;\r\n        }\r\n        var height = header.height();\r\n        var offsetTop = header.offset().top;\r\n        var scrollTop = $(window).scrollTop();\r\n\r\n        if (scrollTop > offsetTop + 1 * height) {\r\n            header.addClass('header_fixed');\r\n        } else {\r\n            header.removeClass('header_fixed');\r\n        }\r\n    };\r\n\r\n    initFixed();\r\n\r\n    $(window).on('scroll', initFixed);\r\n}\r\n\r\nfunction clearNewamout() {\r\n\r\n    $('.newamount-box').hide();\r\n    var newamount =  $('.newamount').attr('newamount');\r\n    var timestamp = Date.parse(new Date());\r\n\r\n    if(newamount-0){\r\n        $.cookie('newamount', newamount + '|' + timestamp, {\r\n            path: '/',\r\n            expires: 1\r\n        });\r\n    }\r\n\r\n    main.isClearNewamout = true;\r\n\r\n}\r\n\r\nfunction isToday(str) {\r\n    var cookieDate = new Date(str-0).toDateString();\r\n    if (cookieDate === new Date().toDateString()) {\r\n        //今天\r\n        return true;\r\n    } else if (new Date(str) < new Date()){\r\n        //之前\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction getNewamount(new_amount) {\r\n    if(main.isClearNewamout) {\r\n        return;\r\n    }\r\n    var $newamount =  $('.newamount');\r\n\r\n    if(!$newamount.size()){\r\n        return;\r\n    }\r\n\r\n    api.service.newamount(function (res) {\r\n        if (res.code == 200 && res.data.amount > 0) {\r\n            var newAmountObj = $.cookie('newamount') || '',\r\n                newAmount = 0,\r\n                timestamp;\r\n            if(newAmountObj){\r\n                newAmountObj = newAmountObj.split('|');\r\n                timestamp = newAmountObj[1];\r\n                var _result = isToday(timestamp);\r\n                if(_result){\r\n                    newAmount = newAmountObj[0];\r\n                }\r\n            }\r\n            newAmount = res.data.amount - newAmount;\r\n            $newamount.attr('newamount', res.data.amount);\r\n\r\n            if (newAmount > 0) {\r\n                $newamount.html(newAmount);\r\n                $('.newamount-box').show();\r\n            }\r\n        } else {\r\n            $('.newamount-box').hide();\r\n        }\r\n    });\r\n\r\n    // var newamount = $.cookie('newamount') || 0;\r\n    // newamount = new_amount - newamount;\r\n\r\n    // $newamount.attr('newamount', new_amount);\r\n\r\n    // if (newamount > 0) {\r\n    //     $newamount.html(newamount);\r\n    //     $('.newamount-box').show();\r\n    // }\r\n}\r\n\r\n\r\n\r\n\r\nfunction bindChangeSearcher() {\r\n    var header_tab = common.tabs({\r\n        container: '.header_inner',\r\n        top: '.search_tab_top'\r\n    });\r\n    $('.tab-wraper .trigger').on('click', function () {\r\n        var $this = $(this);\r\n        var action = $this.attr('data-action');\r\n\r\n        if($this.closest('.header_shop').length){\r\n            $('.header_shop .search_tab_content').hide();\r\n            $(action).show();\r\n        }else{\r\n            header_tab.trigger(action);\r\n        }\r\n    });\r\n}\r\n\r\nfunction bindLogout() {\r\n    $('body').on('click', '.doLogout', function () {\r\n        api.service.logout(function (res) {\r\n            if (res.code == 200) {\r\n\r\n                location.href = '/login.html';\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction topBanner() {\r\n    var $ad = $('.top_ban_60'),\r\n        item = $('a', $ad),\r\n        $close = $('.close', $ad);\r\n\r\n    var isShow = $.cookie('_TOPBANNER') == 1 ? false : true;\r\n\r\n    if (isShow) {\r\n        if (item.size() > 0) {\r\n            // 随机数 显示广告\r\n            var randomIndex = Math.floor(Math.random()*item.length+1) - 1;\r\n            item.eq(randomIndex).show();\r\n            $ad.show().css('height', 0).animate({\r\n                height: 60\r\n            }, 400);\r\n            setTimeout(function(){\r\n                cuvvic.sendShow('',item.eq(randomIndex),1);\r\n            }, 500);\r\n        }\r\n    }\r\n\r\n    // 广告点击关闭后一天后开启\r\n    $close.bind('click', function(){\r\n        $ad.animate({\r\n            height: 0\r\n        }, 400, function () {\r\n            $ad.hide();\r\n        });\r\n        $.cookie('_TOPBANNER', '1', {expires: 1, path: '/'});\r\n    });\r\n}\r\n","\r\n\r\ndefine('common3/URLParser3', [], function() {\r\n\r\n    /**\r\n     * @projectDescription     Poly9's polyvalent URLParser class\r\n     *\r\n     * @author    Denis Laprise - denis@poly9.com - http://poly9.com\r\n     * @version    0.1\r\n     * @namespace    Poly9\r\n     *\r\n     * See the unit test file for more examples.\r\n     * URLParser is freely distributable under the terms of an MIT-style license.\r\n     */\r\n\r\n    if (typeof Poly9 == 'undefined') {\r\n        var Poly9 = {};\r\n    }\r\n\r\n    /**\r\n     * Creates an URLParser instance\r\n     *\r\n     * @classDescription    Creates an URLParser instance\r\n     * @return {Object}    return an URLParser object\r\n     * @param {String} url    The url to parse\r\n     * @constructor\r\n     * @exception {String}  Throws an exception if the specified url is invalid\r\n     */\r\n    Poly9.URLParser = function(url) {\r\n        var _this = this;\r\n\r\n        this._fields = {\r\n            'Username': 4,\r\n            'Password': 5,\r\n            'Port': 7,\r\n            'Protocol': 2,\r\n            'Host': 6,\r\n            'Pathname': 8,\r\n            'URL': 0,\r\n            'Querystring': 9,\r\n            'Fragment': 10\r\n        };\r\n\r\n        this._values = {};\r\n        this._regex = null;\r\n        this.version = 1;\r\n        this._regex = /^((\\w+):\\/\\/)?((\\w+):?(\\w+)?@)?([^\\/\\?:]+):?(\\d+)?(\\/?[^\\?#]+)?\\??([^#]+)?#?(\\w*)/;\r\n        this._paramValues = {};\r\n        var paramParsed = false;\r\n\r\n        for (var f in this._fields) {\r\n            this['get' + f] = this._makeGetter(f);\r\n        }\r\n\r\n        if (typeof url != 'undefined') {\r\n            this._parse(url);\r\n        }\r\n\r\n\r\n        var parseQueryString = function(hash) {\r\n            if (paramParsed) return _this._paramValues;\r\n            if (hash == null || hash.length <= 0) return null;\r\n            var items = hash.split(\"&\"),\r\n                i, item;\r\n            for (i = 0, j = items.length; i < j; i++) {\r\n                item = items[i].split(\"=\");\r\n                if (item.length === 2 && item[0].length > 0) {\r\n                    _this._paramValues[item[0]] = decodeURIComponent(item[1]);\r\n                }\r\n            }\r\n            paramParsed = true;\r\n            return _this._paramValues;\r\n        };\r\n\r\n        this.getQuery = function(key) {\r\n            var param = parseQueryString(_this.getQuerystring());\r\n            if (param == null) return null;\r\n            return param[key];\r\n        };\r\n    };\r\n\r\n    /**\r\n     * @method\r\n     * @param {String} url    The url to parse\r\n     * @exception {String}     Throws an exception if the specified url is invalid\r\n     */\r\n    Poly9.URLParser.prototype.setURL = function(url) {\r\n        this._parse(url);\r\n    };\r\n\r\n    Poly9.URLParser.prototype._initValues = function() {\r\n        for (var f in this._fields) {\r\n            this._values[f] = '';\r\n        }\r\n    };\r\n\r\n    Poly9.URLParser.prototype._parse = function(url) {\r\n        this._initValues();\r\n        var r = this._regex.exec(url);\r\n        if (!r) throw \"DPURLParser::_parse -> Invalid URL\";\r\n\r\n        for (var f in this._fields)\r\n            if (typeof r[this._fields[f]] != 'undefined') {\r\n                this._values[f] = r[this._fields[f]];\r\n            }\r\n    };\r\n\r\n    Poly9.URLParser.prototype._makeGetter = function(field) {\r\n        return function() {\r\n            return this._values[field];\r\n        };\r\n    };\r\n\r\n    return Poly9.URLParser\r\n});\r\n","require(['common/api', 'common/web', 'cookie'], function (api, common) {\n    //实现搜索输入框的输入提示js类\n    var lastKeyWords,\n        matchListCache = {},\n        hotDatas = [];\n    var oSearchSuggest = function (searchFuc) {\n        // function oSearchSuggest(searchFuc) {\n        var searchsubmit = $('#btnSearch'),\n            input = $('#q'),\n            suggestWrap = $('#gov_search_suggest'),\n            key = \"\",\n            init = function () {\n                var hotWords = searchsubmit.siblings('.search_keywords').children('a.item');\n                hotWords.each(function(){\n                    hotDatas.push($(this).text());\n                });\n\n                input.bind('focus', function () {\n                    var _q = $.trim(input.val());\n                    if (_q == '') {\n                        var aData =  [];\n                        if ($.cookie('searchHistory')) {\n                            aData = $.cookie('searchHistory').split(',');\n                        }else{\n                            aData = hotDatas;\n                        }\n                        searchSuggest.dataDisplay(aData, true);\n                    } else {\n                        sendKeyWordToBack();\n                    }\n                });\n                input.bind('keyup', sendKeyWord);\n                input.bind('blur', function () {\n                    setTimeout(hideSuggest, 300);\n                });\n                $(\"form#search_tab_content_q\").submit(function(e){\n                    if(suggestWrap.find('li.selected').length > 0){\n                        console.log(suggestWrap.find('li.selected').eq(0).find('a').attr('href'));\n                        location.href = suggestWrap.find('li.selected').eq(0).find('a').attr('href');\n                        return false;\n                    }\n                    var _q  = $('#q').val().trim();\n                    if(_q==''){\n                        location.href = '/search.html';\n                        return false;\n                    }else{\n                        if(_q.indexOf(' ') > -1){\n                            _q = encodeURIComponent(_q);\n                            location.href = '/search.html?q='+_q;\n                            return false;\n                        }\n                    }\n                });\n                $(\"form#search_tab_content_shop\").submit(function(e){\n                    var _q  = $('#searchKey').val().trim();\n                    if(_q==''){\n                        location.href = '/shopsearch.html';\n                        return false;\n                    }else{\n                        if(_q.indexOf(' ') > -1){\n                            _q = decodeURIComponent(_q);\n                            location.href = '/shopsearch.html?searchKey='+_q;\n                            return false;\n                        }\n                    }\n                });\n            },\n            hideSuggest = function () {\n                suggestWrap.hide();\n            },\n        //发送请求，根据关键字到后台查询\n            sendKeyWord = function (event) {\n                //键盘选择下拉项\n                if (suggestWrap.css('display') == 'block' && event.keyCode == 38 || event.keyCode == 40 || event.keyCode == 13) {\n                    var current = suggestWrap.find('li.selected');\n                    if (event.keyCode == 38) {\n                        if (current.length > 0) {\n                            var prevLi = current.removeClass('selected').prev();\n                            if (prevLi.length > 0) {\n                                prevLi.addClass('selected');\n                                input.val(prevLi.attr('q'));\n                            }\n                        } else {\n                            var last = suggestWrap.find('li:last');\n                            last.addClass('selected');\n                            input.val(last.attr('q'));\n                        }\n                    } else if (event.keyCode == 40) {\n                        if (current.length > 0) {\n                            var nextLi = current.removeClass('selected').next();\n                            if (nextLi.length > 0) {\n                                nextLi.addClass('selected');\n                                input.val(nextLi.attr('q'));\n                            }\n                        } else {\n                            var first = suggestWrap.find('li:first');\n                            first.addClass('selected');\n                            input.val(first.attr('q'));\n                        }\n                    }\n                    //输入字符\n                } else {\n                    var valText = $.trim(input.val());\n                    if (valText == '' || valText == key) {\n                        return;\n                    }\n                    searchFuc(valText);\n                    key = valText;\n                }\n            };\n        //请求返回后，执行数据展示\n        this.dataDisplay = function (data, isHistory) {\n            if (data.length <= 0) {\n                suggestWrap.hide();\n                return;\n            }\n            if (data.length >= 10) {\n                data.length = 10;\n                // $(\".search-img\").show()\n            }\n\n            //往搜索框下拉建议显示栏中添加条目并显示\n            var li, _q,\n                tmpFrag = document.createDocumentFragment();\n            suggestWrap.find('ul').html('');\n            for (var i = 0; i < data.length; i++) {\n                li = document.createElement('LI');\n                var _item = data[i];\n                if (_item.tcid) {\n                    _q = lastKeyWords;\n                    li.innerHTML = '<a href=\"/search.html?tcid=' + _item.tcid + '&q=' + encodeURIComponent(_q) + '\" title=\"' + _q + '\" target=\"_blank\"><div class=\"title\"><span class=\"q\">' + _q + '</span><span class=\"cate\">在<span>' + _item.tcname + ' </span>分类下搜索</span></div></a>';\n                    li.title = _q;\n                } else {\n                \tif(isHistory){\n                    \t_q = _item;\n                \t}else{\n                    \t_q = _item[0];\n                \t}\n                    li.innerHTML = '<a href=\"/search.html?q=' + encodeURIComponent(_q) + '\" title=\"' + _q + '\"><div class=\"title\"><span class=\"q\">' + _q + '</span></div></a>';\n                    li.title = _q;\n                }\n                li.setAttribute('q', _q);\n                tmpFrag.appendChild(li);\n            }\n            suggestWrap.find('ul').append(tmpFrag);\n            suggestWrap.show();\n            cuvvic.sendShow('', $('#gov_search_suggest .search-img a:eq(0)'));\n            //为下拉选项绑定鼠标事件,实现鼠标点击选取\n            suggestWrap.find('li').hover(function () {\n                suggestWrap.find('li').removeClass('selected');\n                $(this).addClass('selected');\n            }, function () {\n                $(this).removeClass('selected');\n            }).bind('mousedown', function () {\n                input.val(this.title);\n                suggestWrap.hide();\n                searchsubmit.click();\n            });\n        };\n        init();\n    };\n    //实例化输入提示的JS,参数为进行查询操作时要调用的函数名\n    var searchSuggest = new oSearchSuggest(common.throttle(sendKeyWordToBack, 800, true, true)) //cgx\n\n    //这是一个模似函数，实p现向后台发送ajax查询请求，并返回一个查询结果数据，传递给前台的JS,再由前台JS来展示数据。本函数由程序员进行修改实现查询的请求\n    //参数为一个字符串，是搜索输入框中当前的内容\n    function sendKeyWordToBack() {\n        var sSearchKey = $.trim($(\"#q\").val() || '');\n        $(\"#q\").bind(\"input propertychange\", function (event) {\n            sSearchKey = $(\"#q\").val();\n        });\n        if (matchListCache[sSearchKey + '']) {\n            searchSuggest.dataDisplay(matchListCache[sSearchKey + '']);\n            return;\n        }\n        $.ajax({\n            url: \"/rest/suggest\", //后台webservice里的方法名称根据自己需要实现返回数据位json\n            type: \"get\",\n            dataType: \"json\",\n            async: false,\n            contentType: \"application/json; charset=utf-8\",\n            data: {q: sSearchKey},\n            traditional: false,\n            beforeSend: function (x) {\n                x.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\n            },\n            success: function (data) {\n                var aData = [],\n                    _data = data.data;\n                lastKeyWords = sSearchKey;\n                aData = formatSuggestData(sSearchKey, _data);\n                searchSuggest.dataDisplay(aData);\n            },\n            error: function (msg, e) {\n                // $(\"#filter_stationType\").html(\"SQL语句有错误\");\n            },\n            complete: function (x) {\n            }\n        });\n    }\n\n    function formatSuggestData(q, aData) {\n        var list = [],\n            cats = aData.cats || [],\n            suggests = aData.suggests || [];\n        list = $.merge(cats, suggests);\n        matchListCache[q + ''] = list;\n        return list;\n    }\n});\n","; (function($) {\r\n    if (!dateFormat || typeof (dateFormat) != \"function\") {\r\n        var dateFormat = function(format) {\r\n            var o = {\r\n                \"M+\": this.getMonth() + 1,\r\n                \"d+\": this.getDate(),\r\n                \"h+\": this.getHours(),\r\n                \"H+\": this.getHours(),\r\n                \"m+\": this.getMinutes(),\r\n                \"s+\": this.getSeconds(),\r\n                \"q+\": Math.floor((this.getMonth() + 3) / 3),\r\n                \"w\": \"0123456\".indexOf(this.getDay()),\r\n                \"S\": this.getMilliseconds()\r\n            };\r\n            if (/(y+)/.test(format)) {\r\n                format = format.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n            }\r\n            for (var k in o) {\r\n                if (new RegExp(\"(\" + k + \")\").test(format))\r\n                    format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\r\n            }\r\n            return format;\r\n        };\r\n    }\r\n    if (!DateAdd || typeof (DateDiff) != \"function\") {\r\n        var DateAdd = function(interval, number, idate) {\r\n            number = parseInt(number);\r\n            var date;\r\n            if (typeof (idate) == \"string\") {\r\n                date = idate.split(/\\D/);\r\n                eval(\"var date = new Date(\" + date.join(\",\") + \")\");\r\n            }\r\n            if (typeof (idate) == \"object\") {\r\n                date = new Date(idate.toString());\r\n            }\r\n            switch (interval) {\r\n                case \"y\": date.setFullYear(date.getFullYear() + number); break;\r\n                case \"m\": date.setMonth(date.getMonth() + number); break;\r\n                case \"d\": date.setDate(date.getDate() + number); break;\r\n                case \"w\": date.setDate(date.getDate() + 7 * number); break;\r\n                case \"h\": date.setHours(date.getHours() + number); break;\r\n                case \"n\": date.setMinutes(date.getMinutes() + number); break;\r\n                case \"s\": date.setSeconds(date.getSeconds() + number); break;\r\n                case \"l\": date.setMilliseconds(date.getMilliseconds() + number); break;\r\n            }\r\n            return date;\r\n        }\r\n    }\r\n    if (!DateDiff || typeof (DateDiff) != \"function\") {\r\n        var DateDiff = function(interval, d1, d2) {\r\n            switch (interval) {\r\n                case \"d\": //date\r\n                case \"w\":\r\n                    d1 = new Date(d1.getFullYear(), d1.getMonth(), d1.getDate());\r\n                    d2 = new Date(d2.getFullYear(), d2.getMonth(), d2.getDate());\r\n                    break;  //w\r\n                case \"h\":\r\n                    d1 = new Date(d1.getFullYear(), d1.getMonth(), d1.getDate(), d1.getHours());\r\n                    d2 = new Date(d2.getFullYear(), d2.getMonth(), d2.getDate(), d2.getHours());\r\n                    break; //h\r\n                case \"n\":\r\n                    d1 = new Date(d1.getFullYear(), d1.getMonth(), d1.getDate(), d1.getHours(), d1.getMinutes());\r\n                    d2 = new Date(d2.getFullYear(), d2.getMonth(), d2.getDate(), d2.getHours(), d2.getMinutes());\r\n                    break;\r\n                case \"s\":\r\n                    d1 = new Date(d1.getFullYear(), d1.getMonth(), d1.getDate(), d1.getHours(), d1.getMinutes(), d1.getSeconds());\r\n                    d2 = new Date(d2.getFullYear(), d2.getMonth(), d2.getDate(), d2.getHours(), d2.getMinutes(), d2.getSeconds());\r\n                    break;\r\n            }\r\n            var t1 = d1.getTime(), t2 = d2.getTime();\r\n            var diff = NaN;\r\n            switch (interval) {\r\n                case \"y\": diff = d2.getFullYear() - d1.getFullYear(); break; //y\r\n                case \"m\": diff = (d2.getFullYear() - d1.getFullYear()) * 12 + d2.getMonth() - d1.getMonth(); break;    //m\r\n                case \"d\": diff = Math.floor(t2 / 86400000) - Math.floor(t1 / 86400000); break;\r\n                case \"w\": diff = Math.floor((t2 + 345600000) / (604800000)) - Math.floor((t1 + 345600000) / (604800000)); break; //w\r\n                case \"h\": diff = Math.floor(t2 / 3600000) - Math.floor(t1 / 3600000); break; //h\r\n                case \"n\": diff = Math.floor(t2 / 60000) - Math.floor(t1 / 60000); break; //\r\n                case \"s\": diff = Math.floor(t2 / 1000) - Math.floor(t1 / 1000); break; //s\r\n                case \"l\": diff = t2 - t1; break;\r\n            }\r\n            return diff;\r\n\r\n        }\r\n    }\r\n    var userAgent = window.navigator.userAgent.toLowerCase();\r\n    $.browser.msie8 = $.browser.msie && /msie 8\\.0/i.test(userAgent);\r\n    $.browser.msie7 = $.browser.msie && /msie 7\\.0/i.test(userAgent);\r\n    $.browser.msie6 = !$.browser.msie8 && !$.browser.msie7 && $.browser.msie && /msie 6\\.0/i.test(userAgent);\r\n    if ($.fn.noSelect == undefined) {\r\n        $.fn.noSelect = function(p) { //no select plugin by me :-)\r\n            if (p == null)\r\n                prevent = true;\r\n            else\r\n                prevent = p;\r\n            if (prevent) {\r\n                return this.each(function() {\r\n                    if ($.browser.msie || $.browser.safari) $(this).bind('selectstart', function() { return false; });\r\n                    else if ($.browser.mozilla) {\r\n                        $(this).css('MozUserSelect', 'none');\r\n                        $('body').trigger('focus');\r\n                    }\r\n                    else if ($.browser.opera) $(this).bind('mousedown', function() { return false; });\r\n                    else $(this).attr('unselectable', 'on');\r\n                });\r\n\r\n            } else {\r\n                return this.each(function() {\r\n                    if ($.browser.msie || $.browser.safari) $(this).unbind('selectstart');\r\n                    else if ($.browser.mozilla) $(this).css('MozUserSelect', 'inherit');\r\n                    else if ($.browser.opera) $(this).unbind('mousedown');\r\n                    else $(this).removeAttr('unselectable', 'on');\r\n                });\r\n\r\n            }\r\n        }; //end noSelect\r\n    };\r\n    $.fn.datepicker = function(o) {\r\n        var def = {\r\n            weekStart: 0,\r\n            weekName: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"], //week language support\r\n            monthName: [\"一\",\"二\",\"三\",\"四\",\"五\",\"六\",\"七\",\"八\",\"九\",\"十\",\"十一\",\"十二\"],\r\n            monthp: '月',\r\n            Year: new Date().getFullYear(), //default year\r\n            Month: new Date().getMonth() + 1, //default month\r\n            Day: new Date().getDate(), //default date\r\n            today: new Date(),\r\n            btnOk: ' 确定 ',\r\n            btnCancel: ' 取消 ',\r\n            btnToday: ' 今天 ',\r\n            inputDate: null,\r\n            onReturn: false,\r\n            version: \"1.1\",\r\n            applyrule: false, //function(){};return rule={startdate,endate};\r\n            showtarget: null,\r\n            picker: \"\",\r\n            event: \"hover\",\r\n            callback: function(){}\r\n        };\r\n        $.extend(def, o);\r\n        var cp = $(\"#BBIT_DP_CONTAINER\");\r\n        if (cp.length == 0) {\r\n            var cpHA = [];\r\n            cpHA.push(\"<div id='BBIT_DP_CONTAINER' class='bbit-dp' style='width:175px;z-index:999;'>\");\r\n            if ($.browser.msie6) {\r\n                cpHA.push('<iframe style=\"position:absolute;z-index:-1;width:100%;height:205px;top:0;left:0;scrolling:no;\" frameborder=\"0\" src=\"about:blank\"></iframe>');\r\n            }\r\n            cpHA.push(\"<table class='dp-maintable' cellspacing='0' cellpadding='0' style='width:175px;'><tbody><tr><td>\");\r\n            //caption bar goes here\r\n            cpHA.push(\"<table class='bbit-dp-top' cellspacing='0'><tr><td class='bbit-dp-top-left'> <a id='BBIT_DP_LEFTBTN' href='javascript:void(0);' title='\", \"上一月\", \"' class='vvicon'>&#xe611;</a></td><td class='bbit-dp-top-center' align='center'><em><button id='BBIT_DP_YMBTN'></button></em></td><td class='bbit-dp-top-right'><a id='BBIT_DP_RIGHTBTN' href='javascript:void(0);' title='\", \"下一月\", \"' class='vvicon'>&#xe60f;</a></td></tr></table>\");\r\n            cpHA.push(\"</td></tr>\");\r\n            cpHA.push(\"<tr><td>\");\r\n            //week\r\n            cpHA.push(\"<table id='BBIT_DP_INNER' class='bbit-dp-inner' cellspacing='0'><thead><tr>\");\r\n            //calculat for week\r\n            for (var i = def.weekStart, j = 0; j < 7; j++) {\r\n                cpHA.push(\"<th><span>\", def.weekName[i], \"</span></th>\");\r\n                if (i == 6) { i = 0; } else { i++; }\r\n            }\r\n            cpHA.push(\"</tr></thead>\");\r\n            //to generat tBody, everything need to rebuilt\r\n            cpHA.push(\"<tbody></tbody></table>\");\r\n            //end tbody\r\n            cpHA.push(\"</td></tr>\");\r\n            // cpHA.push(\"<tr><td class='bbit-dp-bottom' align='center'><button id='BBIT-DP-TODAY'>\", def.btnToday, \"</button></td></tr>\");\r\n            cpHA.push(\"</tbody></table>\");\r\n            //for drop down to select year & month\r\n            cpHA.push(\"<div id='BBIT-DP-MP' class='bbit-dp-mp'  style='z-index:auto;'><table id='BBIT-DP-T' style='width: 175px; height: 193px' border='0' cellspacing='0'><tbody>\");\r\n            cpHA.push(\"<tr>\");\r\n            //tow buttons for Jan & Jul\r\n            cpHA.push(\"<td class='bbit-dp-mp-month' xmonth='0'><a href='javascript:void(0);'>\", def.monthName[0], \"</a></td><td class='bbit-dp-mp-month bbit-dp-mp-sep' xmonth='6'><a href='javascript:void(0);'>\", def.monthName[6], \"</a></td><td class='bbit-dp-mp-ybtn' align='middle'><a id='BBIT-DP-MP-PREV' class='bbit-dp-mp-prev'></a></td><td class='bbit-dp-mp-ybtn' align='middle'><a id='BBIT-DP-MP-NEXT' class='bbit-dp-mp-next'></a></td>\");\r\n            cpHA.push(\"</tr>\");\r\n            cpHA.push(\"<tr>\");\r\n            cpHA.push(\"<td class='bbit-dp-mp-month' xmonth='1'><a href='javascript:void(0);'>\", def.monthName[1], \"</a></td><td class='bbit-dp-mp-month bbit-dp-mp-sep' xmonth='7'><a href='javascript:void(0);'>\", def.monthName[7], \"</a></td><td class='bbit-dp-mp-year'><a href='javascript:void(0);'></a></td><td class='bbit-dp-mp-year'><a href='javascript:void(0);'></a></td>\");\r\n            cpHA.push(\"</tr>\");\r\n            cpHA.push(\"<tr>\");\r\n            cpHA.push(\"<td class='bbit-dp-mp-month' xmonth='2'><a href='javascript:void(0);'>\", def.monthName[2], \"</a></td><td class='bbit-dp-mp-month bbit-dp-mp-sep' xmonth='8'><a href='javascript:void(0);'>\", def.monthName[8], \"</a></td><td class='bbit-dp-mp-year'><a href='javascript:void(0);'></a></td><td class='bbit-dp-mp-year'><a href='javascript:void(0);'></a></td>\");\r\n            cpHA.push(\"</tr>\");\r\n            cpHA.push(\"<tr>\");\r\n            cpHA.push(\"<td class='bbit-dp-mp-month' xmonth='3'><a href='javascript:void(0);'>\", def.monthName[3], \"</a></td><td class='bbit-dp-mp-month bbit-dp-mp-sep' xmonth='9'><a href='javascript:void(0);'>\", def.monthName[9], \"</a></td><td class='bbit-dp-mp-year'><a href='javascript:void(0);'></a></td><td class='bbit-dp-mp-year'><a href='javascript:void(0);'></a></td>\");\r\n            cpHA.push(\"</tr>\");\r\n\r\n            cpHA.push(\"<tr>\");\r\n            cpHA.push(\"<td class='bbit-dp-mp-month' xmonth='4'><a href='javascript:void(0);'>\", def.monthName[4], \"</a></td><td class='bbit-dp-mp-month bbit-dp-mp-sep' xmonth='10'><a href='javascript:void(0);'>\", def.monthName[10], \"</a></td><td class='bbit-dp-mp-year'><a href='javascript:void(0);'></a></td><td class='bbit-dp-mp-year'><a href='javascript:void(0);'></a></td>\");\r\n            cpHA.push(\"</tr>\");\r\n\r\n            cpHA.push(\"<tr>\");\r\n            cpHA.push(\"<td class='bbit-dp-mp-month' xmonth='5'><a href='javascript:void(0);'>\", def.monthName[5], \"</a></td><td class='bbit-dp-mp-month bbit-dp-mp-sep' xmonth='11'><a href='javascript:void(0);'>\", def.monthName[11], \"</a></td><td class='bbit-dp-mp-year'><a href='javascript:void(0);'></a></td><td class='bbit-dp-mp-year'><a href='javascript:void(0);'></a></td>\");\r\n            cpHA.push(\"</tr>\");\r\n            cpHA.push(\"<tr class='bbit-dp-mp-btns'>\");\r\n            cpHA.push(\"<td colspan='4'><button id='BBIT-DP-MP-OKBTN' class='bbit-dp-mp-ok'>\", def.btnOk, \"</button><button id='BBIT-DP-MP-CANCELBTN' class='bbit-dp-mp-cancel'>\", def.btnCancel, \"</button></td>\");\r\n            cpHA.push(\"</tr>\");\r\n\r\n            cpHA.push(\"</tbody></table>\");\r\n            cpHA.push(\"</div>\");\r\n            cpHA.push(\"</div>\");\r\n\r\n            var s = cpHA.join(\"\");\r\n            if(def.event=='hover'){\r\n                $(\"#datetime\").append(s);\r\n            }else{\r\n                $(document.body).append(s);\r\n            }\r\n            cp = $(\"#BBIT_DP_CONTAINER\");\r\n\r\n            initevents();\r\n        }\r\n        function initevents() {\r\n            //1 today btn;\r\n            // $(\"#BBIT-DP-TODAY\").click(returntoday);\r\n            cp.click(returnfalse);\r\n            $(\"#BBIT_DP_INNER tbody\").click(tbhandler);\r\n            $(\"#BBIT_DP_LEFTBTN\").click(prevm);\r\n            $(\"#BBIT_DP_RIGHTBTN\").click(nextm);\r\n            // $(\"#BBIT_DP_YMBTN\").click(showym);\r\n            $(\"#BBIT-DP-MP\").click(mpclick).dblclick(mpdblclick);\r\n\r\n            $(\"#BBIT-DP-MP-PREV\").click(mpprevy);\r\n            $(\"#BBIT-DP-MP-NEXT\").click(mpnexty);\r\n            $(\"#BBIT-DP-MP-OKBTN\").click(mpok);\r\n            $(\"#BBIT-DP-MP-CANCELBTN\").click(mpcancel);\r\n        }\r\n        function mpcancel() {\r\n            $(\"#BBIT-DP-MP\").animate({ top: -193 }, { duration: 200, complete: function() { $(\"#BBIT-DP-MP\").hide(); } });\r\n            return false;\r\n        }\r\n        function mpok() {\r\n            def.Year = def.cy;\r\n            def.Month = def.cm + 1;\r\n            def.Day = 1;\r\n            $(\"#BBIT-DP-MP\").animate({ top: -193 }, { duration: 200, complete: function() { $(\"#BBIT-DP-MP\").hide(); } });\r\n            writecb();\r\n            return false;\r\n        }\r\n        function mpprevy() {\r\n            var y = def.ty - 10\r\n            def.ty = y;\r\n            rryear(y);\r\n            return false;\r\n        }\r\n        function mpnexty() {\r\n            var y = def.ty + 10\r\n            def.ty = y;\r\n            rryear(y);\r\n            return false;\r\n        }\r\n        function rryear(y) {\r\n            var s = y - 4;\r\n            var ar = [];\r\n            for (var i = 0; i < 5; i++) {\r\n                ar.push(s + i);\r\n                ar.push(s + i + 5);\r\n            }\r\n            $(\"#BBIT-DP-MP td.bbit-dp-mp-year\").each(function(i) {\r\n                if (def.Year == ar[i]) {\r\n                    $(this).addClass(\"bbit-dp-mp-sel\");\r\n                }\r\n                else {\r\n                    $(this).removeClass(\"bbit-dp-mp-sel\");\r\n                }\r\n                $(this).html(\"<a href='javascript:void(0);'>\" + ar[i] + \"</a>\").attr(\"xyear\", ar[i]);\r\n            });\r\n        }\r\n        function mpdblclick(e) {\r\n            var et = e.target || e.srcElement;\r\n            var td = getTd(et);\r\n            if (td == null) {\r\n                return false;\r\n            }\r\n            if ($(td).hasClass(\"bbit-dp-mp-month\") || $(td).hasClass(\"bbit-dp-mp-year\")) {\r\n                mpok(e);\r\n            }\r\n            return false;\r\n        }\r\n        function mpclick(e) {\r\n            var panel = $(this);\r\n            var et = e.target || e.srcElement;\r\n            var td = getTd(et);\r\n            if (td == null) {\r\n                return false;\r\n            }\r\n            if ($(td).hasClass(\"bbit-dp-mp-month\")) {\r\n                if (!$(td).hasClass(\"bbit-dp-mp-sel\")) {\r\n                    var ctd = panel.find(\"td.bbit-dp-mp-month.bbit-dp-mp-sel\");\r\n                    if (ctd.length > 0) {\r\n                        ctd.removeClass(\"bbit-dp-mp-sel\");\r\n                    }\r\n                    $(td).addClass(\"bbit-dp-mp-sel\")\r\n                    def.cm = parseInt($(td).attr(\"xmonth\"));\r\n                }\r\n            }\r\n            if ($(td).hasClass(\"bbit-dp-mp-year\")) {\r\n                if (!$(td).hasClass(\"bbit-dp-mp-sel\")) {\r\n                    var ctd = panel.find(\"td.bbit-dp-mp-year.bbit-dp-mp-sel\");\r\n                    if (ctd.length > 0) {\r\n                        ctd.removeClass(\"bbit-dp-mp-sel\");\r\n                    }\r\n                    $(td).addClass(\"bbit-dp-mp-sel\")\r\n                    def.cy = parseInt($(td).attr(\"xyear\"));\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        function showym() {\r\n            var mp = $(\"#BBIT-DP-MP\");\r\n            var y = def.Year;\r\n            def.cy = def.ty = y;\r\n            var m = def.Month - 1;\r\n            def.cm = m;\r\n            var ms = $(\"#BBIT-DP-MP td.bbit-dp-mp-month\");\r\n            for (var i = ms.length - 1; i >= 0; i--) {\r\n                var ch = $(ms[i]).attr(\"xmonth\");\r\n                if (ch == m) {\r\n                    $(ms[i]).addClass(\"bbit-dp-mp-sel\");\r\n                }\r\n                else {\r\n                    $(ms[i]).removeClass(\"bbit-dp-mp-sel\");\r\n                }\r\n            }\r\n            rryear(y);\r\n            mp.css(\"top\", -193).show().animate({ top: 0 }, { duration: 200 });\r\n        }\r\n        function getTd(elm) {\r\n            if (elm.tagName.toUpperCase() == \"TD\") {\r\n                return elm;\r\n            }\r\n            else if (elm.tagName.toUpperCase() == \"BODY\") {\r\n                return null;\r\n            }\r\n            else {\r\n                var p = $(elm).parent();\r\n                if (p.length > 0) {\r\n                    if (p[0].tagName.toUpperCase() != \"TD\") {\r\n                        return getTd(p[0]);\r\n                    }\r\n                    else {\r\n                        return p[0];\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n        function tbhandler(e) {\r\n            var et = e.target || e.srcElement;\r\n            var td = getTd(et);\r\n            if (td == null) {\r\n                return false;\r\n            }\r\n            var $td = $(td);\r\n            if (!$(td).hasClass(\"bbit-dp-disabled\")) {\r\n                var s = $td.attr(\"xdate\");\r\n                cp.data(\"indata\",stringtodate(s));\r\n                returndate();\r\n            }\r\n            return false;\r\n        }\r\n        function returnfalse() {\r\n            return false;\r\n        }\r\n\r\n        function stringtodate(datestr) {\r\n            try\r\n            {\r\n                var arrs = datestr.split('-');\r\n                var year = parseInt(arrs[0]);\r\n                var month = parseInt(arrs[1]) - 1;\r\n                var day = parseInt(arrs[2]);\r\n                return new Date(year, month, day);\r\n            }\r\n            catch(e)\r\n            {\r\n             return null;\r\n            }\r\n        }\r\n        function prevm() {\r\n            if (def.Month == 1) {\r\n                def.Year--;\r\n                def.Month = 12;\r\n            }\r\n            else {\r\n                def.Month--\r\n            }\r\n            writecb();\r\n            return false;\r\n        }\r\n        function nextm() {\r\n            if (def.Month == 12) {\r\n                def.Year++;\r\n                def.Month = 1;\r\n            }\r\n            else {\r\n                def.Month++\r\n            }\r\n            writecb();\r\n            return false;\r\n        }\r\n        function returntoday() {\r\n            cp.data(\"indata\", new Date());\r\n            returndate();\r\n        }\r\n        function returndate() {\r\n            var ct = cp.data(\"ctarget\");\r\n            var ck = cp.data(\"cpk\");\r\n            var re = cp.data(\"onReturn\");\r\n            var ndate = cp.data(\"indata\")\r\n            var ads = cp.data(\"ads\");\r\n            var ade = cp.data(\"ade\");\r\n            var dis = false;\r\n            if (ads && ndate < ads) {\r\n                dis = true;\r\n            }\r\n            if (ade && ndate > ade) {\r\n                dis = true;\r\n            }\r\n            if (dis) {\r\n                return;\r\n            }\r\n            if (re && jQuery.isFunction(re)) {\r\n                re.call(ct[0], dateFormat.call(cp.data(\"indata\"), 'yyyy-MM-dd'));\r\n            }else if(ct){\r\n                ct.val(dateFormat.call(cp.data(\"indata\"), 'yyyy-MM-dd'));\r\n            }\r\n            ck.attr(\"isshow\", \"0\");\r\n            cp.removeData(\"ctarget\").removeData(\"cpk\").removeData(\"indata\").removeData(\"onReturn\")\r\n            .removeData(\"ads\").removeData(\"ade\");\r\n            cp.css(\"visibility\", \"hidden\");\r\n            ct = ck = null;\r\n            def.callback();\r\n        }\r\n        function writecb() {\r\n            var tb = $(\"#BBIT_DP_INNER tbody\");\r\n            $(\"#BBIT_DP_YMBTN\").html(def.Year + '年' + def.Month + '月');\r\n            var firstdate = new Date(def.Year, def.Month - 1, 1);\r\n\r\n            var diffday = def.weekStart - firstdate.getDay();\r\n            var showmonth = def.Month - 1;\r\n            if (diffday > 0) {\r\n                diffday -= 7;\r\n            }\r\n            var startdate = DateAdd(\"d\", diffday, firstdate);\r\n            var enddate = DateAdd(\"d\", 42, startdate);\r\n            var ads = cp.data(\"ads\");\r\n            var ade = cp.data(\"ade\");\r\n            var bhm = [];\r\n            var tds = dateFormat.call(def.today, 'yyyy-MM-dd');\r\n            var indata = cp.data(\"indata\");\r\n            var ins = indata != null ? dateFormat.call(indata, 'yyyy-MM-dd') : \"\";\r\n            for (var i = 1; i <= 42; i++) {\r\n                if (i % 7 == 1) {\r\n                    bhm.push(\"<tr>\");\r\n                }\r\n                var ndate = DateAdd(\"d\", i - 1, startdate);\r\n                var tdc = [];\r\n                var dis = false;\r\n                if (ads && ndate < ads) {\r\n                    dis = true;\r\n                }\r\n                if (ade && ndate > ade) {\r\n                    dis = true;\r\n                }\r\n                if (ndate.getMonth() < showmonth) {\r\n                    tdc.push(\"bbit-dp-prevday\");\r\n                }else if (ndate.getMonth() > showmonth) {\r\n                    tdc.push(\"bbit-dp-nextday\");\r\n                }\r\n\r\n                if (dis) {\r\n                    tdc.push(\"bbit-dp-disabled\");\r\n                }else {\r\n                    tdc.push(\"bbit-dp-active\");\r\n                }\r\n\r\n                var s = dateFormat.call(ndate, 'yyyy-MM-dd');\r\n                if (s == tds) {\r\n                    tdc.push(\"bbit-dp-today\");\r\n                }\r\n                if (s == ins) {\r\n                    tdc.push(\"bbit-dp-selected\");\r\n                }\r\n\r\n                bhm.push(\"<td class='\", tdc.join(\" \"), \"' title='\", dateFormat.call(ndate, 'yyyy-MM-dd'), \"' xdate='\", dateFormat.call(ndate, 'yyyy-MM-dd'), \"'><a href='javascript:void(0);'><em><span>\", ndate.getDate(), \"</span></em></a></td>\");\r\n                if (i % 7 == 0) {\r\n                    bhm.push(\"</tr>\");\r\n                }\r\n            }\r\n            tb.html(bhm.join(\"\"));\r\n        }\r\n        return $(this).each(function() {\r\n            var obj = $(this).addClass(\"bbit-dp-input\"),\r\n                picker = $(def.picker),\r\n                _event = def.event\r\n            if(_event != 'hover'){\r\n                def.showtarget == null && obj.after(picker);\r\n            }\r\n            picker.on(_event, function(e) {\r\n                var isshow = $(this).attr(\"isshow\");\r\n                //hide it initially\r\n                var me = $(this);\r\n                if (cp.css(\"visibility\") == \"visible\") {\r\n                    cp.css(\" visibility\", \"hidden\");\r\n                }\r\n                if (isshow == \"1\") {\r\n                    me.attr(\"isshow\", \"0\");\r\n                    cp.removeData(\"ctarget\").removeData(\"cpk\").removeData(\"indata\").removeData(\"onReturn\");\r\n                    return false;\r\n                }\r\n                var v = obj.val();\r\n                if(_event=='hover'){\r\n                    v = obj.data('cdata')\r\n                }\r\n                if (v != \"\") {\r\n                    v = stringtodate(v);\r\n                }\r\n                if (v == null || v == \"\") {\r\n                    def.Year = new Date().getFullYear();\r\n                    def.Month = new Date().getMonth() + 1;\r\n                    def.Day = new Date().getDate();\r\n                    def.inputDate = null\r\n                }else {\r\n                    def.Year = v.getFullYear();\r\n                    def.Month =v.getMonth() + 1;\r\n                    def.Day = v.getDate();\r\n                    def.inputDate = v;\r\n                }\r\n                cp.data(\"ctarget\", obj).data(\"cpk\", me).data(\"indata\", def.inputDate).data(\"onReturn\", def.onReturn);\r\n                if (def.applyrule && $.isFunction(def.applyrule)) {\r\n                    var rule = def.applyrule.call(obj, obj[0].id);\r\n                    if (rule) {\r\n                        if (rule.startdate) {\r\n                            cp.data(\"ads\", rule.startdate);\r\n                        }\r\n                        else {\r\n                            cp.removeData(\"ads\");\r\n                        }\r\n                        if (rule.enddate) {\r\n                            cp.data(\"ade\", rule.enddate);\r\n                        }\r\n                        else {\r\n                            cp.removeData(\"ade\");\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    cp.removeData(\"ads\").removeData(\"ade\")\r\n                }\r\n                writecb();\r\n\r\n\r\n                $(\"#BBIT-DP-T\").height(cp.height());\r\n                var t = def.showtarget || obj;\r\n                var pos = t.offset();\r\n\r\n                var height = t.outerHeight();\r\n                var newpos = { left: pos.left, top: pos.top + height };\r\n                if(_event == 'hover'){\r\n                    newpos = { left: -1, top: height }\r\n                }\r\n                var w = cp.width();\r\n                var h = cp.height();\r\n                var bw = document.documentElement.clientWidth;\r\n                var bh = document.documentElement.clientHeight;\r\n                if ((newpos.left + w) >= bw) {\r\n                    newpos.left = bw - w - 2;\r\n                }\r\n                if ((newpos.top + h) >= bh) {\r\n                    newpos.top = pos.top - h - 2;\r\n                }\r\n                if (newpos.left < (_event=='hover'?-1:0)) {\r\n                    newpos.left = 10;\r\n                }\r\n                if (newpos.top < 0) {\r\n                    newpos.top = 10;\r\n                }\r\n                $(\"#BBIT-DP-MP\").hide();\r\n                newpos.visibility = \"visible\";\r\n                cp.css(newpos);\r\n\r\n                if(_event=='hover'){\r\n                    $(this).attr(\"isshow\", \"1\");\r\n                }else{\r\n                    $(document).one(\"click\", function(e) {\r\n                        me.attr(\"isshow\", \"0\");\r\n                        cp.removeData(\"ctarget\").removeData(\"cpk\").removeData(\"indata\");\r\n                        cp.css(\"visibility\", \"hidden\");\r\n                    });\r\n                }\r\n\r\n\r\n\r\n                return false;\r\n            })\r\n            if(_event == 'hover'){\r\n                picker.mouseleave(function(event) {\r\n                    $(this).attr(\"isshow\", \"0\");\r\n                    cp.removeData(\"ctarget\").removeData(\"cpk\").removeData(\"indata\");\r\n                    cp.css(\"visibility\", \"hidden\");\r\n                });\r\n            }\r\n        });\r\n    };\r\n})(jQuery);\r\n","\r\n(function(a){a.isScrollToFixed=function(b){return !!a(b).data(\"ScrollToFixed\")};a.ScrollToFixed=function(d,i){var m=this;m.$el=a(d);m.el=d;m.$el.data(\"ScrollToFixed\",m);var c=false;var H=m.$el;var I;var F;var k;var e;var z;var E=0;var r=0;var j=-1;var f=-1;var u=null;var A;var g;function v(){H.trigger(\"preUnfixed.ScrollToFixed\");l();H.trigger(\"unfixed.ScrollToFixed\");f=-1;E=H.offset().top;r=H.offset().left;if(m.options.offsets){r+=(H.offset().left-H.position().left)}if(j==-1){j=r}I=H.css(\"position\");c=true;if(m.options.bottom!=-1){H.trigger(\"preFixed.ScrollToFixed\");x();H.trigger(\"fixed.ScrollToFixed\")}}function o(){var J=m.options.limit;if(!J){return 0}if(typeof(J)===\"function\"){return J.apply(H)}return J}function q(){return I===\"fixed\"}function y(){return I===\"absolute\"}function h(){return !(q()||y())}function x(){if(!q()){var J=H[0].getBoundingClientRect();u.css({display:H.css(\"display\"),width:J.width,height:J.height,\"float\":H.css(\"float\")});cssOptions={\"z-index\":m.options.zIndex,position:\"fixed\",top:m.options.bottom==-1?t():\"\",bottom:m.options.bottom==-1?\"\":m.options.bottom,\"margin-left\":\"0px\"};if(!m.options.dontSetWidth){cssOptions.width=H.css(\"width\")}H.css(cssOptions);H.addClass(m.options.baseClassName);if(m.options.className){H.addClass(m.options.className)}I=\"fixed\"}}function b(){var K=o();var J=r;if(m.options.removeOffsets){J=\"\";K=K-E}cssOptions={position:\"absolute\",top:K,left:J,\"margin-left\":\"0px\",bottom:\"\"};if(!m.options.dontSetWidth){cssOptions.width=H.css(\"width\")}H.css(cssOptions);I=\"absolute\"}function l(){if(!h()){f=-1;u.css(\"display\",\"none\");H.css({\"z-index\":z,width:\"\",position:F,left:\"\",top:e,\"margin-left\":\"\"});H.removeClass(\"scroll-to-fixed-fixed\");if(m.options.className){H.removeClass(m.options.className)}I=null}}function w(J){if(J!=f){H.css(\"left\",r-J);f=J}}function t(){var J=m.options.marginTop;if(!J){return 0}if(typeof(J)===\"function\"){return J.apply(H)}return J}function B(){if(!a.isScrollToFixed(H)||H.is(\":hidden\")){return}var M=c;var L=h();if(!c){v()}else{if(h()){E=H.offset().top;r=H.offset().left}}var J=a(window).scrollLeft();var N=a(window).scrollTop();var K=o();if(m.options.minWidth&&a(window).width()<m.options.minWidth){if(!h()||!M){p();H.trigger(\"preUnfixed.ScrollToFixed\");l();H.trigger(\"unfixed.ScrollToFixed\")}}else{if(m.options.maxWidth&&a(window).width()>m.options.maxWidth){if(!h()||!M){p();H.trigger(\"preUnfixed.ScrollToFixed\");l();H.trigger(\"unfixed.ScrollToFixed\")}}else{if(m.options.bottom==-1){if(K>0&&N>=K-t()){if(!L&&(!y()||!M)){p();H.trigger(\"preAbsolute.ScrollToFixed\");b();H.trigger(\"unfixed.ScrollToFixed\")}}else{if(N>=E-t()){if(!q()||!M){p();H.trigger(\"preFixed.ScrollToFixed\");x();f=-1;H.trigger(\"fixed.ScrollToFixed\")}w(J)}else{if(!h()||!M){p();H.trigger(\"preUnfixed.ScrollToFixed\");l();H.trigger(\"unfixed.ScrollToFixed\")}}}}else{if(K>0){if(N+a(window).height()-H.outerHeight(true)>=K-(t()||-n())){if(q()){p();H.trigger(\"preUnfixed.ScrollToFixed\");if(F===\"absolute\"){b()}else{l()}H.trigger(\"unfixed.ScrollToFixed\")}}else{if(!q()){p();H.trigger(\"preFixed.ScrollToFixed\");x()}w(J);H.trigger(\"fixed.ScrollToFixed\")}}else{w(J)}}}}}function n(){if(!m.options.bottom){return 0}return m.options.bottom}function p(){var J=H.css(\"position\");if(J==\"absolute\"){H.trigger(\"postAbsolute.ScrollToFixed\")}else{if(J==\"fixed\"){H.trigger(\"postFixed.ScrollToFixed\")}else{H.trigger(\"postUnfixed.ScrollToFixed\")}}}var D=function(J){if(H.is(\":visible\")){c=false;B()}};var G=function(J){(!!window.requestAnimationFrame)?requestAnimationFrame(B):B()};var C=function(){var K=document.body;if(document.createElement&&K&&K.appendChild&&K.removeChild){var M=document.createElement(\"div\");if(!M.getBoundingClientRect){return null}M.innerHTML=\"x\";M.style.cssText=\"position:fixed;top:100px;\";K.appendChild(M);var N=K.style.height,O=K.scrollTop;K.style.height=\"3000px\";K.scrollTop=500;var J=M.getBoundingClientRect().top;K.style.height=N;var L=(J===100);K.removeChild(M);K.scrollTop=O;return L}return null};var s=function(J){J=J||window.event;if(J.preventDefault){J.preventDefault()}J.returnValue=false};m.init=function(){m.options=a.extend({},a.ScrollToFixed.defaultOptions,i);z=H.css(\"z-index\");m.$el.css(\"z-index\",m.options.zIndex);u=a(\"<div />\");I=H.css(\"position\");F=H.css(\"position\");k=H.css(\"float\");e=H.css(\"top\");if(h()){m.$el.after(u)}a(window).bind(\"resize.ScrollToFixed\",D);a(window).bind(\"scroll.ScrollToFixed\",G);if(\"ontouchmove\" in window){a(window).bind(\"touchmove.ScrollToFixed\",B)}if(m.options.preFixed){H.bind(\"preFixed.ScrollToFixed\",m.options.preFixed)}if(m.options.postFixed){H.bind(\"postFixed.ScrollToFixed\",m.options.postFixed)}if(m.options.preUnfixed){H.bind(\"preUnfixed.ScrollToFixed\",m.options.preUnfixed)}if(m.options.postUnfixed){H.bind(\"postUnfixed.ScrollToFixed\",m.options.postUnfixed)}if(m.options.preAbsolute){H.bind(\"preAbsolute.ScrollToFixed\",m.options.preAbsolute)}if(m.options.postAbsolute){H.bind(\"postAbsolute.ScrollToFixed\",m.options.postAbsolute)}if(m.options.fixed){H.bind(\"fixed.ScrollToFixed\",m.options.fixed)}if(m.options.unfixed){H.bind(\"unfixed.ScrollToFixed\",m.options.unfixed)}if(m.options.spacerClass){u.addClass(m.options.spacerClass)}H.bind(\"resize.ScrollToFixed\",function(){u.height(H.height())});H.bind(\"scroll.ScrollToFixed\",function(){H.trigger(\"preUnfixed.ScrollToFixed\");l();H.trigger(\"unfixed.ScrollToFixed\");B()});H.bind(\"detach.ScrollToFixed\",function(J){s(J);H.trigger(\"preUnfixed.ScrollToFixed\");l();H.trigger(\"unfixed.ScrollToFixed\");a(window).unbind(\"resize.ScrollToFixed\",D);a(window).unbind(\"scroll.ScrollToFixed\",G);H.unbind(\".ScrollToFixed\");u.remove();m.$el.removeData(\"ScrollToFixed\")});D()};m.init()};a.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1000,baseClassName:\"scroll-to-fixed-fixed\"};a.fn.scrollToFixed=function(b){return this.each(function(){(new a.ScrollToFixed(this,b))})}})(jQuery);"],"sourceRoot":"webpack-module://"}